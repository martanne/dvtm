.Dd $Mdocdate: December 27 2016 $
.Dt DVTM 1
.Os
.Sh NAME
.Nm dvtm
.Nd dynamic virtual terminal manager
.
.
.Sh SYNOPSIS
.
.Nm
.Op Fl v
.Op Fl M
.Op Fl m Ar modifier
.Op Fl d Ar delay
.Op Fl h Ar lines
.Op Fl t Ar title
.Op Fl s Ar status-fifo
.Op Fl c Ar cmd-fifo
.Op Ar command Ar ...
.
.
.Sh DESCRIPTION
.
.Nm
is a dynamic tiling window manager for the console.
.Pp
As a console window manager it tries to make it easy to work with multiple
console based applications.
.
.
.Sh OPTIONS
.
.Bl -tag
.It Fl v
Print version information to standard output and exit.
.
.It Fl M
Toggle default mouse grabbing upon startup. Use this to allow normal mouse operation
under X.
.
.It Fl m Ar modifier
Set command modifier at runtime.
.
.It Fl d Ar delay
Set the delay ncurses waits before deciding if a character that might be
part of an escape sequence is actually part of an escape sequence.
.
.It Fl h Ar lines
Set the scrollback history buffer size at runtime.
.
.It Fl t Ar title
Set a static terminal
.I title
and don't change it to the one of the currently focused window.
.
.It Fl s Ar status-fifo
Open or create the named pipe
.I status-fifo
read its content and display it in the statusbar. See the
.I dvtm-status
script for an usage example.
.
.It Fl c Ar cmd-fifo
Open or create the named pipe
.I cmd-fifo
and look for commands to execute which were defined in
.IR config.h .
.
.It Ar command Ar ...
Execute
.IR command (s),
each in a separate window.
.
.
.Sh USAGE
.
.Ss Keyboard commands
.
.Bl -tag
.It Mod
Each keybinding begins with Mod which defaults to
^g,
but can be changed in
.I config.h
or with the
.B -m
command line option.
.
.It Mod-c
Create a new shell window.
.
.It Mod-C
Create a new shell window using the current working directory of the focused window.
.
.It Mod-x-x
Close focused window.
.
.It Mod-l
Increases the master area width about 5% (all except grid and
fullscreen layout).
.
.It Mod-h
Decreases the master area width about 5% (all except grid and
fullscreen layout).
.
.It Mod-i
Increase number of windows displayed in the master area.
.
.It Mod-d
Decrease number of windows displayed in the master area.
.
.It Mod-j
Focus next window.
.
.It Mod-k
Focus previous window.
.
.It Mod-J
Focus next non minimized window.
.
.It Mod-K
Focus previous non minimized window.
.
.It Mod- n
Focus the
.IR n -th
window.
.
.It Mod-Tab
Focus previously selected window.
.
.It Mod-.
Toggle minimization of current window.
.
.It Mod-m
Maximize current window (change to fullscreen layout).
.
.It Shift-PageUp
.TQ
.B Mod-PageUp
Scroll up.
.
.It Shift-PageDown
.TQ
.B Mod-PageDown
Scroll down.
.
.It Mod-Space
Toggle between defined layouts (affects all windows).
.
.It Mod-Enter
Zooms/cycles current window to/from master area.
.
.It Mod-f
Change to vertical stack tiling layout.
.
.It Mod-b
Change to bottom stack tiling layout.
.
.It Mod-g
Change to grid layout.
.
.It Mod-s
Show/hide the status bar.
.
.It Mod-S
Toggle position of the status bar between top and bottom.
.
.It Mod-r
.
.It Mod-^L
Redraw whole screen.
.
.It Mod-a
Toggle keyboard multiplexing mode, if activated keypresses are sent to all
visible windows.
.
.It Mod-M
Toggle dvtm mouse grabbing.
.
.It Mod-e
Enter copy mode (see section below for further information).
.
.It Mod-/
Enter copy mode and start searching forward (assumes a vi-like editor).
.
.It Mod-p
Paste last copied text from copy mode at current cursor position.
.
.It Mod-?
Show this manual page.
.
.It Mod-Mod
Send the Mod key.
.
.It Mod-F[1..n]
.TQ
.B Mod-v-[1..n]
View all windows with nth tag.
.
.It Mod-0
View all windows with any tag.
.
.It Mod-v-Tab
Toggles to the previously selected tags.
.
.It Mod-V-[1..n]
Add/remove all windows with nth tag to/from the view.
.
.It Mod-t-[1..n]
Apply nth tag to focused window.
.
.It Mod-T-[1..n]
Add/remove nth tag to/from focused window.
.
.It Mod-q-q
Quit dvtm.
.El
.
.
.Ss Mouse commands
.
By default dvtm captures mouse events to provide the actions listed below.
Unfortunately this interferes with the standard X copy and paste mechanism.
To work around this you need to hold down
.B Shift
while selecting or pasting text.
Alternatively you can disable mouse support at compile time, start dvtm with the
.B -M
flag or toggle mouse support during runtime with
.BR Mod-M .
.
.Bl -tag
.It Button1 click
Focus window.
.
.It Button1 double click
Focus window and toggle maximization.
.
.It Button2 click
Zoom/cycle current window to/from master area.
.
.It Button3 click
Toggle minimization of current window.
.El
.
.
.Ss Copy mode
.
Copy mode gives easy access to past output by piping it to an editor. What
ever the editor prints to stdout upon exiting will be stored in an internal
register and can be pasted into other clients (via
.B Mod-p
)
.
.
.Sh ENVIRONMENT VARIABLES
.
.Bl -tag
.It DVTM
Each process spawned by dvtm will have this variable set to the dvtm version
it is running under.
.
.It DVTM_WINDOW_ID
Each process also has access to its constant and unique window id.
.
.It DVTM_CMD_FIFO
If the -c command line argument was specified upon dvtm startup, this variable
will be set to the file name of the named pipe. Thus allowing the process
to send commands back to dvtm.
.
.It DVTM_TERM
By default dvtm uses its own terminfo file and therefore sets
.BR TERM=dvtm
within the client windows. This can be overridden by setting the
.BR DVTM_TERM
environment variable to a valid terminal name before launching dvtm.
.
.It DVTM_EDITOR
When entering the copymode dvtm pipes the whole scroll back buffer to
.BR DVTM_EDITOR
which is launched with
.BR -
(indicating to read from stdin) as its only argument.
If
.BR DVTM_EDITOR
is not set
.BR EDITOR
is checked, if this is also not set the default value specified in
.BR config.h
is used instead.
.
.
.Sh EXAMPLE
.
See the
.I dvtm-status
script as an example of how to display text in the status bar.
.
.
.Sh CUSTOMIZATION
.
dvtm is customized by creating a custom
.I config.h
and (re)compiling the source code.
This keeps it fast, secure and simple.
.
.
.Sh SEE ALSO
.
.Xr dvtm-status 1
.Xr abduco 1
.
.
.Sh AUTHOR
.
dvtm is written by Marc Andr√© Tanner <mat at brain-dump.org>
